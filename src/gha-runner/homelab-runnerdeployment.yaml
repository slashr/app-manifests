apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerDeployment
metadata:
  name: homelab-runner
  namespace: gha-runner 
spec:
  replicas: 1
  template:
    spec:
      repository: slashr/homelab
      labels:
        - self-hosted
        - linux
        - arm64
      # Use ubuntu-22.04 runner image which has Python 3.10+ (yamllint requires >=3.9)
      image: summerwind/actions-runner:ubuntu-22.04
      dockerdWithinRunnerContainer: true
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: name
                    operator: In
                    values:
                      - stanley
                      - phyllis

